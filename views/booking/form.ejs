<%- include('../partials/header') %>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white py-4">
          <h3 class="mb-1">
            <i class="bi bi-calendar-plus"></i> Form Booking
          </h3>
          <p class="mb-0 text-white-50">Lapangan: <strong><%= field.name %></strong></p>
        </div>
        <div class="card-body p-4">
          <% if (error) { %>
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              <i class="bi bi-exclamation-triangle"></i> <%= error %>
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          <% } %>

          <div class="alert alert-info mb-4">
            <i class="bi bi-info-circle"></i>
            <strong>Harga:</strong> Rp <%= Number(field.price).toLocaleString('id-ID') %> / Jam
          </div>

          <form method="POST" action="/booking/<%= field.id %>">
            <div class="mb-3">
              <label class="form-label fw-semibold">Tanggal Booking</label>
              <input 
                type="date" 
                name="booking_date" 
                class="form-control" 
                min="<%= new Date().toISOString().split('T')[0] %>"
                required 
              />
              <small class="text-muted">Pilih tanggal minimal hari ini</small>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Jam Mulai</label>
                <input 
                  type="time" 
                  name="start_time" 
                  class="form-control" 
                  required 
                />
              </div>

              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Jam Selesai</label>
                <input 
                  type="time" 
                  name="end_time" 
                  class="form-control" 
                  required 
                />
              </div>
            </div>

            <div class="mb-4">
              <label class="form-label fw-semibold">Catatan (Opsional)</label>
              <textarea 
                name="note" 
                class="form-control" 
                placeholder="Masukkan catatan atau request khusus"
                rows="3"
              ></textarea>
            </div>

            <div class="d-grid gap-2">
              <button class="btn btn-primary btn-lg fw-semibold" type="submit">
                <i class="bi bi-check-circle"></i> Lakukan Booking
              </button>
              <a href="/fields" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> Kembali ke Daftar
              </a>
            </div>
          </form>

          <hr class="my-4">

          <div class="alert alert-warning">
            <strong><i class="bi bi-lightbulb"></i> Informasi Penting:</strong>
            <ul class="mb-0 mt-2 small">
              <li>Booking akan diproses dengan status "Pending" menunggu persetujuan admin</li>
              <li>Sistem akan mengecek ketersediaan jadwal secara otomatis</li>
              <li>Lihat status booking Anda di Dashboard</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
